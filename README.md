# Prut4j: <ins>Pr</ins>otocol <ins>U</ins>nit <ins>T</ins>esting fo(u)r <ins>J</ins>ava

This repository contains projects that were used to develop Prut4j, a tool to simplify unit testing of channel/queue-based communication protocols in concurrent Java programs. All projects are outlined below. Projects can be run as Gradle projects. 

# Main projects
## code-generator
Uses the jar that has been generated by the discourje project to obtain a LTS for every protocol. For every tested protocol a protocol implementation is generated (Starting point: ProtocolCodeGenerator.runActivity()). The protocol definition files (.dcj format) can be found in the 'protocol_definiton' folder. Protocol implementations are generated to the 'tests' and 'benchmarks' projects. They are both placed in the 'nl.florianslob.modelchecking.generated' package.

## tests
Contains generated protocols and LTL tests in .owl files for some game examples (Tic-Tac-Toe, Rock-Paper-Scissors & GoFish) and for the NPB benchmark protocols (CG,IS,FT,MG). Some long running tests are disabled by default. All test classes are suffixed with 'Tests'. The ltl formulas can be found in .owl files in the 'formulas' subfolder.

## benchmarks
Contains the original version of the NPB benchmarks and an updated version where Prut4j is used for comparison. The 'generate-jar' build task has been used to publish a jar file to the 'benchmark-jar-files' folder (root of the repository). This folder also contains some auxilary scripts to run the benchmarks as well as some execution results.

# Helper/Library projects

## library
Contains the testing engine and some other auxilary logic.

## discourje
Parsing of protocol definitions to LTS datastructure. Moves a Jar file to the code-generator project. 

## api
Contains shared interfaces and classes.

## owl
Library for parsing LTL formulas in .owl files to automata representation.