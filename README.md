# Prut4j: <ins>Pr</ins>otocol <ins>U</ins>nit <ins>T</ins>esting fo(u)r <ins>J</ins>ava

This repository contains projects that were used to develop Prut4j, a tool to simplify unit testing of channel/queue-based communication protocols in concurrent Java programs. All projects are outlined below. Projects can be run as Gradle projects. 

# Main projects
## <ins>code-generator</ins>
Uses the jar that has been generated by the discourje project to obtain a LTS for every protocol. For every tested protocol a protocol implementation is generated (Starting point: ProtocolCodeGenerator.runActivity()). The protocol definition files (.dcj format) can be found in the 'protocol_definiton' folder. Protocol implementations are generated to the 'tests' and 'benchmarks' projects. They are both placed in the 'nl.florianslob.modelchecking.generated' package.

## <ins>tests</ins>
Contains generated protocols and LTL tests in .owl files for some example game protocols (Tic-Tac-Toe, Rock-Paper-Scissors & GoFish), some network topologie protocols (Ring, Star, Mesh), and for the NPB benchmark protocols (CG,IS,FT,MG). Some long running tests are disabled by default (Commented out // @Test). All test classes are postfixed with 'Tests'. The ltl formulas can be found in .owl files in the 'formulas' subfolder.

## <ins>benchmarks</ins>
Contains the original version of the NPB benchmarks and an updated version where Prut4j is used for comparison. The 'generate-jar' build task has been used to publish a jar file to the 'benchmark-jar-files' folder (root of the repository). This folder also contains some auxilary scripts to run the benchmarks as well as some execution results.

# Helper/Library projects

## <ins>library</ins>
Contains the test execution engine (nl.florianslob.modelchecking.base.runtime.v2 package) and some other auxilary logic.

## <ins>discourje</ins>
Parsing of protocol definitions to LTS datastructure. Moves a Jar file to the code-generator project. 

## <ins>api</ins>
Contains shared interfaces and classes.

## <ins>owl</ins>
Library for parsing LTL formulas in .owl files to automata representation.